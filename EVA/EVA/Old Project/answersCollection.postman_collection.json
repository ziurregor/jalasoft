{
	"info": {
		"_postman_id": "b6cf059c-b263-48c9-b72d-f8fcc9af3882",
		"name": "Answers",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Get answer of an evaluation",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "625f33b1-f8d0-4fa6-b5d2-45fb5bd7c52f",
						"exec": [
							"var expectedSchema = ",
							"{",
							"  \"definitions\": {},",
							"  \"$schema\": \"http://json-schema.org/draft-07/schema#\",",
							"  \"$id\": \"http://example.com/root.json\",",
							"  \"type\": \"object\",",
							"  \"title\": \"The Root Schema\",",
							"  \"required\": [",
							"    \"IdEvaluation\",",
							"    \"Date\",",
							"    \"Name\",",
							"    \"ScoreFormula\",",
							"    \"Score\",",
							"    \"QuestionList\",",
							"    \"Id\"",
							"  ],",
							"  \"properties\": {",
							"    \"IdEvaluation\": {",
							"      \"$id\": \"#/properties/IdEvaluation\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Idevaluation Schema\",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"fc14823f-6b66-464e-8300-cafd61c14a63\"",
							"      ],",
							"      \"pattern\": \"^(.*)$\"",
							"    },",
							"    \"Date\": {",
							"      \"$id\": \"#/properties/Date\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Date Schema\",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"2019-03-18T15:47:11.7670291Z\"",
							"      ],",
							"      \"pattern\": \"^(.*)$\"",
							"    },",
							"    \"Name\": {",
							"      \"$id\": \"#/properties/Name\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Name Schema\",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"Score evaluation\"",
							"      ],",
							"      \"pattern\": \"^(.*)$\"",
							"    },",
							"    \"ScoreFormula\": {",
							"      \"$id\": \"#/properties/ScoreFormula\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Scoreformula Schema\",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"sum(i, 0, questionsLenght, questionResult(i))\"",
							"      ],",
							"      \"pattern\": \"^(.*)$\"",
							"    },",
							"    \"Score\": {",
							"      \"$id\": \"#/properties/Score\",",
							"      \"type\": \"integer\",",
							"      \"title\": \"The Score Schema\",",
							"      \"default\": 0,",
							"      \"examples\": [",
							"        15",
							"      ]",
							"    },",
							"    \"QuestionList\": {",
							"      \"$id\": \"#/properties/QuestionList\",",
							"      \"type\": \"object\",",
							"      \"title\": \"The Questionlist Schema\",",
							"      \"properties\": {",
							"        \"^[{(]?[0-9A-F]{8}[-]?(?:[0-9A-F]{4}[-]?){3}[0-9A-F]{12}[)}]?$\": {",
							"          \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246\",",
							"          \"type\": \"object\",",
							"          \"title\": \"The Question key Schema\",",
							"          \"examples\": [",
							"            \"44d6b843-02fa-412d-aee2-8585cccb8246\"",
							"          ],",
							"          \"required\": [",
							"            \"IdQuestion\",",
							"            \"Weigthed\",",
							"            \"Weight\",",
							"            \"Score\",",
							"            \"ScoreFormula\",",
							"            \"OptionList\",",
							"            \"Answers\"",
							"          ],",
							"          \"properties\": {",
							"            \"IdQuestion\": {",
							"              \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/IdQuestion\",",
							"              \"type\": \"string\",",
							"              \"title\": \"The Idquestion Schema\",",
							"              \"default\": \"\",",
							"              \"examples\": [",
							"                \"44d6b843-02fa-412d-aee2-8585cccb8246\"",
							"              ],",
							"              \"pattern\": \"^(.*)$\"",
							"            },",
							"            \"Weigthed\": {",
							"              \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/Weigthed\",",
							"              \"type\": \"boolean\",",
							"              \"title\": \"The Weigthed Schema\",",
							"              \"default\": false,",
							"              \"examples\": [",
							"                true",
							"              ]",
							"            },",
							"            \"Weight\": {",
							"              \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/Weight\",",
							"              \"type\": \"integer\",",
							"              \"title\": \"The Weight Schema\",",
							"              \"default\": 0,",
							"              \"examples\": [",
							"                10",
							"              ]",
							"            },",
							"            \"Score\": {",
							"              \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/Score\",",
							"              \"type\": \"integer\",",
							"              \"title\": \"The Score Schema\",",
							"              \"default\": 0,",
							"              \"examples\": [",
							"                5",
							"              ]",
							"            },",
							"            \"ScoreFormula\": {",
							"              \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/ScoreFormula\",",
							"              \"type\": \"string\",",
							"              \"title\": \"The Scoreformula Schema\",",
							"              \"default\": \"\",",
							"              \"examples\": [",
							"                \"sum(i, 0, correctAnswersLenght, correctAnswer(i))\"",
							"              ],",
							"              \"pattern\": \"^(.*)$\"",
							"            },",
							"            \"OptionList\": {",
							"              \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/OptionList\",",
							"              \"type\": \"object\",",
							"              \"title\": \"The Optionlist Schema\",",
							"              \"properties\": {",
							"                \"^[{(]?[0-9A-F]{8}[-]?(?:[0-9A-F]{4}[-]?){3}[0-9A-F]{12}[)}]?$\": {",
							"                  \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/OptionList/properties/72f573fb-845d-4145-9fc5-c57a3ac8a0e3\",",
							"                  \"type\": \"object\",",
							"                  \"title\": \"The Option Key Schema\",",
							"                  \"required\": [",
							"                    \"IdOption\",",
							"                    \"Sequence\",",
							"                    \"Weight\",",
							"                    \"UserSelected\",",
							"                    \"IsAnswer\"",
							"                  ],",
							"                  \"properties\": {",
							"                    \"IdOption\": {",
							"                      \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/OptionList/properties/72f573fb-845d-4145-9fc5-c57a3ac8a0e3/properties/IdOption\",",
							"                      \"type\": \"string\",",
							"                      \"title\": \"The Idoption Schema\",",
							"                      \"default\": \"\",",
							"                      \"examples\": [",
							"                        \"72f573fb-845d-4145-9fc5-c57a3ac8a0e3\"",
							"                      ],",
							"                      \"pattern\": \"^(.*)$\"",
							"                    },",
							"                    \"Sequence\": {",
							"                      \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/OptionList/properties/72f573fb-845d-4145-9fc5-c57a3ac8a0e3/properties/Sequence\",",
							"                      \"type\": \"integer\",",
							"                      \"title\": \"The Sequence Schema\",",
							"                      \"default\": 0,",
							"                      \"examples\": [",
							"                        1",
							"                      ]",
							"                    },",
							"                    \"Weight\": {",
							"                      \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/OptionList/properties/72f573fb-845d-4145-9fc5-c57a3ac8a0e3/properties/Weight\",",
							"                      \"type\": \"integer\",",
							"                      \"title\": \"The Weight Schema\",",
							"                      \"default\": 0,",
							"                      \"examples\": [",
							"                        5",
							"                      ]",
							"                    },",
							"                    \"UserSelected\": {",
							"                      \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/OptionList/properties/72f573fb-845d-4145-9fc5-c57a3ac8a0e3/properties/UserSelected\",",
							"                      \"type\": \"boolean\",",
							"                      \"title\": \"The Userselected Schema\",",
							"                      \"default\": false,",
							"                      \"examples\": [",
							"                        true",
							"                      ]",
							"                    },",
							"                    \"IsAnswer\": {",
							"                      \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/OptionList/properties/72f573fb-845d-4145-9fc5-c57a3ac8a0e3/properties/IsAnswer\",",
							"                      \"type\": \"boolean\",",
							"                      \"title\": \"The Isanswer Schema\",",
							"                      \"default\": false,",
							"                      \"examples\": [",
							"                        true",
							"                      ]",
							"                    }",
							"                  }",
							"                }",
							"              }",
							"            },",
							"            \"Answers\": {",
							"              \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/Answers\",",
							"              \"type\": \"array\",",
							"              \"title\": \"The Answers Schema\",",
							"              \"items\": {",
							"                \"$id\": \"#/properties/QuestionList/properties/44d6b843-02fa-412d-aee2-8585cccb8246/properties/Answers/items\",",
							"                \"type\": \"string\",",
							"                \"title\": \"The Items Schema\",",
							"                \"default\": \"\",",
							"                \"examples\": [",
							"                  \"72f573fb-845d-4145-9fc5-c57a3ac8a0e3\"",
							"                ],",
							"                \"pattern\": \"^(.*)$\"",
							"              }",
							"            }",
							"          }",
							"        }",
							"      }",
							"    },",
							"    \"Id\": {",
							"      \"$id\": \"#/properties/Id\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Id Schema\",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"70ec96a5-2adf-463b-a538-b48db06ddeb8\"",
							"      ],",
							"      \"pattern\": \"^(.*)$\"",
							"    }",
							"  }",
							"};",
							"",
							"var actualSchema = JSON.parse(responseBody);",
							"",
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"});",
							"",
							"tests[\"EvaluationAnswer schema is valid\"] = tv4.validate(actualSchema, expectedSchema);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "localhost:8087/api/v1/evaluations/2a1cead3-5776-4d4e-a557-734a55c8b998/answers/11111111-1111-1111-1111-111111666666",
					"host": [
						"localhost"
					],
					"port": "8087",
					"path": [
						"api",
						"v1",
						"evaluations",
						"2a1cead3-5776-4d4e-a557-734a55c8b998",
						"answers",
						"11111111-1111-1111-1111-111111666666"
					]
				}
			},
			"response": [
				{
					"name": "Get answers of an Evaluation",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8087/api/v1/evaluations/11111111-1111-1111-1111-111111111112/answers",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8087",
							"path": [
								"api",
								"v1",
								"evaluations",
								"11111111-1111-1111-1111-111111111112",
								"answers"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Length",
							"value": "1845"
						},
						{
							"key": "Content-Type",
							"value": "application/json; charset=utf-8"
						},
						{
							"key": "Server",
							"value": "Microsoft-HTTPAPI/2.0"
						},
						{
							"key": "Date",
							"value": "Thu, 14 Mar 2019 16:16:33 GMT"
						}
					],
					"cookie": [],
					"body": "[\n    {\n        \"IdEvaluation\": \"11111111-1111-1111-1111-111111111112\",\n        \"Date\": \"2019-02-28T08:12:00.5973309-04:00\",\n        \"Score\": 0,\n        \"Owner\": \"anonymous\",\n        \"QuestionAnswers\": [\n            {\n                \"IdQuestion\": \"00000001-0001-0000-0000-000000000001\",\n                \"Score\": 0,\n                \"SelectedAnswersIds\": [\n                    \"00000001-0001-0000-0000-000000000011\",\n                    \"00000001-0001-0000-0000-000000000012\"\n                ],\n                \"Id\": \"f005e032-7a91-41fa-b45b-ecc9eaf3f1ec\"\n            },\n            {\n                \"IdQuestion\": \"00000001-0001-0000-0000-000000000002\",\n                \"Score\": 0,\n                \"SelectedAnswersIds\": [\n                    \"00000001-0001-0000-0000-000000000013\"\n                ],\n                \"Id\": \"6c87b010-961e-4a54-bea2-0a6b64bbd220\"\n            },\n            {\n                \"IdQuestion\": \"00000001-0001-0000-0000-000000000003\",\n                \"Score\": 0,\n                \"SelectedAnswersIds\": [\n                    \"00000001-0001-0000-0000-000000000014\"\n                ],\n                \"Id\": \"1711ec75-c8f7-4481-a9ac-5d6ca7405e0b\"\n            },\n            {\n                \"IdQuestion\": \"00000001-0001-0000-0000-000000000004\",\n                \"Score\": 0,\n                \"SelectedAnswersIds\": [\n                    \"00000001-0001-0000-0000-000000000014\"\n                ],\n                \"Id\": \"50efe2e3-13cf-446f-8e67-2df31ac1171b\"\n            }\n        ],\n        \"Id\": \"b7029f15-a33f-4552-9426-91e24b87a93f\"\n    },\n    {\n        \"IdEvaluation\": \"11111111-1111-1111-1111-111111111112\",\n        \"Date\": \"2019-02-28T08:12:00.5973309-04:00\",\n        \"Score\": 0,\n        \"Owner\": \"anonymous\",\n        \"QuestionAnswers\": [\n            {\n                \"IdQuestion\": \"00000001-0001-0000-0000-000000000001\",\n                \"Score\": 0,\n                \"SelectedAnswersIds\": [\n                    \"00000001-0001-0000-0000-000000000011\",\n                    \"00000001-0001-0000-0000-000000000012\"\n                ],\n                \"Id\": \"7c6ede39-0b32-460c-83c3-7fd9e0a082a0\"\n            },\n            {\n                \"IdQuestion\": \"00000001-0001-0000-0000-000000000002\",\n                \"Score\": 0,\n                \"SelectedAnswersIds\": [\n                    \"00000001-0001-0000-0000-000000000013\"\n                ],\n                \"Id\": \"df821f24-2f66-4239-8df3-786688f451cc\"\n            },\n            {\n                \"IdQuestion\": \"00000001-0001-0000-0000-000000000003\",\n                \"Score\": 0,\n                \"SelectedAnswersIds\": [\n                    \"00000001-0001-0000-0000-000000000014\"\n                ],\n                \"Id\": \"15aa4ba8-fab8-4eff-945e-edabfabb15e7\"\n            },\n            {\n                \"IdQuestion\": \"00000001-0001-0000-0000-000000000004\",\n                \"Score\": 0,\n                \"SelectedAnswersIds\": [\n                    \"00000001-0001-0000-0000-000000000014\"\n                ],\n                \"Id\": \"85b75fa4-026f-4044-be92-afb1e77c0a76\"\n            }\n        ],\n        \"Id\": \"fb1f2e32-8077-4d1d-8eb3-e585cb833897\"\n    }\n]"
				}
			]
		}
	]
}